5/2/25

Marcel emphasizes powerful pipelines.

It's not so great as a general purpose shell. It should be possible to do this:

    #!/usr/local/bin/marcel

    WHO = ('world')
    (f'Hello {WHO}')

But if this is stored in x.m, then

    ./x.m

produces this output:

    There is no workspaced named ./x.m.

The reason is that "marcel xyz" starts marcel with workspace xyz. To
run a script, it's "marcel -e ./x.m". This would have to change.

Also how would a command line arg be passed to x.m?

......................................................................

What's needed:

- Change invocation of marcel so that "./x.m" works.

- Be able to pass args, e.g. so that "./x.m foobar" prints "Hello
  foobar".

- Commands should yield return codes. Subsequent commands should be
  able to test and act on them.

----------------------------------------------------------------------

5/4/25

Current marcel invocation:

    marcel [WORKSPACE] [-e|--execute SCRIPT] [--mpstart fork|spawn|forkserver]
    marcel [-h|--help]
    
    Run marcel, interactively unless a SCRIPT is provided.
    
    if WORKSPACE is specified, then marcel will open the named WORKSPACE before 
    executing commands interactively or commands from the SCRIPT.
    
    This usage message is obtained by running marcel with the -h or --help
    flag. For more detailed help, run marcel interactively and use the "help" command.
    
    Leave out --mpstart unless you really know what you're doing, or you're desperate. 
    It defaults to fork.



https://superuser.com/questions/195826/bash-shebang-for-dummies:

    If a script /path/to/foo begins with #!/bin/bash, then executing
    /path/to/foo arg1 arg2 is equivalent to executing /bin/bash
    /path/too/foo arg1 arg2

So:

- "marcel x" should execute the script x. Get rid of -e|--execute.

- Need a different way to specify a workspace. Can't be an anonymous
  arg, or specified via flag, as these would interfere with script
  usage. Just get rid of the command-line option? 

- Get rid of mpstart arg. Hard code, or test platform to determine
  mpstart value.

